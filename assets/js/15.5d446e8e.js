(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{494:function(s,a,t){"use strict";t.r(a);var r=t(4),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("目录")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#_1-手动编译"}},[s._v("1.  手动编译")])]),t("li",[t("a",{attrs:{href:"#_2-手动部署"}},[s._v("2.  手动部署")])]),t("li",[t("a",{attrs:{href:"#_3-补充docker命令"}},[s._v("3， 补充docker命令")])]),t("li",[t("a",{attrs:{href:"#_4-补充k8s命令"}},[s._v("4， 补充K8S命令")])])])]),t("p"),s._v(" "),t("hr"),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("自动部署---【CICD】")]),s._v(" "),t("h2",{attrs:{id:"_1-手动编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-手动编译"}},[s._v("#")]),s._v(" 1.  手动编译")]),s._v(" "),t("p",[s._v("本地压缩--打包的文件夹")]),s._v(" "),t("p",[s._v("用xftp上传至研发服务器")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 现将本地打包的文件夹解缩")]),s._v("\nunzip dist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zip \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker tag  可以docker images 查看照搬即可 --标签")]),s._v("\ndocker tag 10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("254"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("21"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("library"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME 10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("254"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("21"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("library"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME:9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("25 \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从Dockerfile构建镜像：docker build  -t ImageName:TagName dir")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# . 表示当前目录，即Dockerfile所在目录")]),s._v("\ndocker build "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t 10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("254"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("21"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("library"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME:12"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("16 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f Dockerfile "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("  看清了一个空格一个点\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将本地的镜像上传到镜像仓库：docker push  NAME[:TAG]")]),s._v("\ndocker push 10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("254"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("21"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("library"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME:9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("25\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查找出XXXX_NAME镜像")]),s._v("\ndocker images"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v("grep XXXX_NAME\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker save 导出：  将指定镜像保存成 tar 归档文件： ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# >表示输出到文件，10.254.9.21/library/XXXX_NAME:9.25为目标文件，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XXXX_NAME:20.08.05.10.tar.gz是源镜像名")]),s._v("\ndocker save 10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("254"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("21"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("library"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME:9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("25 >  XXXX_NAME:20"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("08"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("05"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("==Dockerfile文件==")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" hub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dw"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("library"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx:1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("17"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9\nENV TZ=Asia"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Shanghai\nRUN ln "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("snf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("share"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("zoneinfo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TZ")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localtime && "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TZ")]),s._v(" > "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("timezone\nADD dist"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("share"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("将 编译 之后的 镜像 下载到本地电脑")]),s._v(" "),t("h2",{attrs:{id:"_2-手动部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-手动部署"}},[s._v("#")]),s._v(" 2.  手动部署")]),s._v(" "),t("p",[s._v("将编译之后的镜像  上传至 部署服务器")]),s._v(" "),t("p",[s._v("去想要部署的环境部署-----转到部署服务器")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker load : 导入使用 docker save 命令导出的镜像")]),s._v("\ndocker load "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i XXXX_NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("13"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 换个tag")]),s._v("\ndocker tag registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("paas"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XYYX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME:11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("13"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("01 registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("paas"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XYYX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue:20"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("13"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("01\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 yaml文件")]),s._v("\nvi ops"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\ncontainers：下面 修改  \n   image： registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("paas"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XYYX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("XXXX_NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue:20"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("13"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("01\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止现在的kubectl进程")]),s._v("\nkubectl delete "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f ops"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建新的kubectl进程")]),s._v("\nkubectl create "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f ops"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有运行的Pod信息")]),s._v("\nkubectl get pod "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" grep bc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("deep\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h2",{attrs:{id:"_3-补充docker命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-补充docker命令"}},[s._v("#")]),s._v(" 3， 补充docker命令")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("在这里插入代码片\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_4-补充k8s命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-补充k8s命令"}},[s._v("#")]),s._v(" 4， 补充K8S命令")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("在这里插入代码片\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);